---
import Layout from "@layouts/Layout.astro";
import Collapse from "@components/Collapse.svelte";
import SearchBar from "@components/SearchBar.astro";
import DatePicker from "@components/DatePicker.svelte";

export function getStaticPaths() {
  const contratos = [
    "Eletricidade",
    "Água",
    "Limpeza",
    "Impressoras",
    "Comunicações",
  ];
  const cidades = ["Viana do Castelo", "Braga", "Porto", "Vila Real"];

  const paths = contratos.flatMap((contrato) =>
    cidades.map((cidade) => ({ params: { contrato, clinica: cidade } }))
  );

  return paths;
}

const { contrato, clinica } = Astro.params;
---

<Layout title=`${contrato} - ${clinica}`>
  <div class="flex items-center justify-between mb-7">
    <h1 class="text-xl font-medium">{contrato} - {clinica}</h1>
    <SearchBar />
  </div>

  <Collapse client:load title="Formulário">
    <DatePicker client:only />
    ola
  </Collapse>
</Layout>
